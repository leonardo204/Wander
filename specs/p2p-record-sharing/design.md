# P2P ê¸°ë¡ ê³µìœ  ê¸°ëŠ¥ - ì„¤ê³„ ë¬¸ì„œ

## ê°œìš”

ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œ Wander ì‚¬ìš©ì ê°„ ì—¬í–‰ ê¸°ë¡ì„ ê³µìœ í•˜ê¸° ìœ„í•œ ê¸°ìˆ  ì„¤ê³„ì…ë‹ˆë‹¤.

---

## ê¸°ìˆ  ì ‘ê·¼ë²• ë¹„êµ

### Option A: CloudKit Public Database (ì¶”ì²œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    CloudKit     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ê³µìœ ì     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚  Public DB  â”‚
â”‚  (Sender)   â”‚   Upload        â”‚  (Apple)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â”‚ Download
                                       â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   ìˆ˜ì‹ ì     â”‚
                                â”‚ (Receiver)  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¥ì :**
- Apple ì œê³µ ë¬´ë£Œ ìŠ¤í† ë¦¬ì§€ (ì•±ë‹¹ 1PB ê³µìš©)
- ì„œë²„ ê´€ë¦¬ ë¶ˆí•„ìš”
- ìë™ ë§Œë£Œ/ì‚­ì œ ê°€ëŠ¥
- iOS ë„¤ì´í‹°ë¸Œ í†µí•©

**ë‹¨ì :**
- Apple ê³„ì • í•„ìš” (ìë™ ìµëª… ì²˜ë¦¬ ê°€ëŠ¥)
- 100MB ë ˆì½”ë“œ ì œí•œ
- API í˜¸ì¶œ ì œí•œ ìˆìŒ

**êµ¬í˜„ ë°©ì‹:**
1. ê³µìœ  ì‹œ CKRecordë¡œ ë°ì´í„° ì—…ë¡œë“œ (Public Database)
2. recordID + ì•”í˜¸í™” í‚¤ë¥¼ í¬í•¨í•œ Universal Link ìƒì„±
3. ìˆ˜ì‹ ìê°€ ë§í¬ í´ë¦­ â†’ recordIDë¡œ ë°ì´í„° fetch
4. ë§Œë£Œ ì‹œê°„ ë„ë‹¬ ì‹œ CloudKit Subscriptionìœ¼ë¡œ ìë™ ì‚­ì œ

---

### Option B: Data URL (Base64 ì¸ì½”ë”©)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ê³µìœ ì     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   ìˆ˜ì‹ ì     â”‚
â”‚  (Sender)   â”‚   Data URL      â”‚ (Receiver)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   (ì§ì ‘ ì „ë‹¬)     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¥ì :**
- ì™„ì „í•œ ì„œë²„ë¦¬ìŠ¤
- ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ
- ì˜¤í”„ë¼ì¸ ê°€ëŠ¥

**ë‹¨ì :**
- URL ê¸¸ì´ ì œí•œ (ì•½ 2MB)
- ì‚¬ì§„ í¬í•¨ ë¶ˆê°€ (ë©”íƒ€ë°ì´í„°ë§Œ)
- ë©”ì‹œì§€ ì•±ì—ì„œ ì˜ë¦¼ ê°€ëŠ¥

**êµ¬í˜„ ë°©ì‹:**
1. ê¸°ë¡ ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ì§ë ¬í™”
2. gzip ì••ì¶• â†’ Base64 ì¸ì½”ë”©
3. `wander://share?data=<base64>` í˜•íƒœ URL ìƒì„±
4. ì‚¬ì§„ì€ ë³„ë„ AssetIdentifierë§Œ í¬í•¨ (ìˆ˜ì‹ ì ê¸°ê¸°ì— ì—†ìœ¼ë©´ í‘œì‹œ ë¶ˆê°€)

---

### Option C: Firebase Storage + Dynamic Links

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Firebase     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ê³µìœ ì     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   Storage   â”‚
â”‚  (Sender)   â”‚   Upload        â”‚  (Google)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                               Dynamic Link
                                       â”‚
                                       â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   ìˆ˜ì‹ ì     â”‚
                                â”‚ (Receiver)  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¥ì :**
- í° íŒŒì¼ ì§€ì› (5GB)
- Firebase Dynamic Linksë¡œ Deep Link ìƒì„± ê°„í¸
- ìƒì„¸ ë¶„ì„ ì œê³µ

**ë‹¨ì :**
- Google ê³„ì •/Firebase í”„ë¡œì íŠ¸ í•„ìš”
- ë¹„ìš© ë°œìƒ ê°€ëŠ¥ (ë¬´ë£Œ í‹°ì–´ ì´ˆê³¼ ì‹œ)
- ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´ì„±

---

### ì„ íƒ: Option A (CloudKit Public Database)

**ì„ íƒ ì´ìœ :**
1. ì•±ì˜ ì„œë²„ë¦¬ìŠ¤ ì² í•™ ìœ ì§€ (Apple ì¸í”„ë¼ í™œìš©)
2. ì‚¬ì§„ í¬í•¨ ê³µìœ  ê°€ëŠ¥ (100MB ì´ë‚´)
3. ì¶”ê°€ ë¹„ìš© ì—†ìŒ
4. iOS ë„¤ì´í‹°ë¸Œ í†µí•©ìœ¼ë¡œ ì•ˆì •ì 

---

## ì•„í‚¤í…ì²˜ ì„¤ê³„

### ì‹œìŠ¤í…œ êµ¬ì„±ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Wander App                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ShareServiceâ”‚  â”‚P2PShareSvc  â”‚  â”‚ DeepLinkHandler     â”‚   â”‚
â”‚  â”‚ (ê¸°ì¡´ ì´ë¯¸ì§€)â”‚  â”‚ (ì‹ ê·œ P2P)  â”‚  â”‚ (URL ë¼ìš°íŒ…)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                     â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   CloudKitManager                        â”‚ â”‚
â”‚  â”‚  - uploadSharePackage()                                  â”‚ â”‚
â”‚  â”‚  - downloadSharePackage()                                â”‚ â”‚
â”‚  â”‚  - deleteExpiredRecords()                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CloudKit Public Database                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ RecordType: WanderShare                                   â”‚â”‚
â”‚  â”‚  - shareID: String (UUID)                                 â”‚â”‚
â”‚  â”‚  - encryptedData: Data (ì•”í˜¸í™”ëœ ê¸°ë¡)                     â”‚â”‚
â”‚  â”‚  - photos: [CKAsset] (ì‚¬ì§„ íŒŒì¼ë“¤)                         â”‚â”‚
â”‚  â”‚  - expiresAt: Date                                        â”‚â”‚
â”‚  â”‚  - createdAt: Date                                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deep Link êµ¬ì¡°

**Universal Link (ê¶Œì¥):**
```
https://wander.zerolive.com/share/{shareID}?key={encryptionKey}
```

**Custom URL Scheme (í´ë°±):**
```
wander://share/{shareID}?key={encryptionKey}
```

### ê³µìœ  íŒ¨í‚¤ì§€ êµ¬ì¡°

```swift
struct SharePackage: Codable {
    // ë©”íƒ€ ì •ë³´
    let version: Int = 1
    let shareID: UUID
    let createdAt: Date
    let expiresAt: Date?
    let senderName: String?  // ì„ íƒì 

    // ê¸°ë¡ ë°ì´í„°
    let record: SharedTravelRecord

    // ì‚¬ì§„ ì°¸ì¡° (ì‹¤ì œ ì‚¬ì§„ì€ CKAssetìœ¼ë¡œ ë³„ë„ ì €ì¥)
    let photoReferences: [PhotoReference]
}

struct SharedTravelRecord: Codable {
    let title: String
    let startDate: Date
    let endDate: Date
    let totalDistance: Double
    let aiStory: String?
    let days: [SharedTravelDay]
}

struct SharedTravelDay: Codable {
    let date: Date
    let dayNumber: Int
    let places: [SharedPlace]
}

struct SharedPlace: Codable {
    let name: String
    let address: String
    let latitude: Double
    let longitude: Double
    let startTime: Date
    let endTime: Date?
    let activityLabel: String
    let photoIndices: [Int]  // photoReferences ë°°ì—´ ì¸ë±ìŠ¤
}

struct PhotoReference: Codable {
    let index: Int
    let filename: String
    let capturedAt: Date
    let latitude: Double?
    let longitude: Double?
}
```

---

## ì•”í˜¸í™” ì„¤ê³„

### ì•”í˜¸í™” ë°©ì‹: AES-256-GCM

```swift
// ê³µìœ  ì‹œ
1. ëœë¤ 256-bit ì•”í˜¸í™” í‚¤ ìƒì„±
2. SharePackageë¥¼ JSONìœ¼ë¡œ ì§ë ¬í™”
3. AES-256-GCMìœ¼ë¡œ ì•”í˜¸í™”
4. ì•”í˜¸í™”ëœ ë°ì´í„°ë¥¼ CloudKitì— ì—…ë¡œë“œ
5. shareID + encryptionKeyë¥¼ URLì— í¬í•¨

// ìˆ˜ì‹  ì‹œ
1. URLì—ì„œ shareID, encryptionKey ì¶”ì¶œ
2. CloudKitì—ì„œ ì•”í˜¸í™”ëœ ë°ì´í„° ë‹¤ìš´ë¡œë“œ
3. encryptionKeyë¡œ ë³µí˜¸í™”
4. SharePackageë¡œ ì—­ì§ë ¬í™”
```

### í‚¤ ì „ë‹¬
- encryptionKeyëŠ” Base64URL ì¸ì½”ë”©í•˜ì—¬ URL íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
- CloudKitì—ëŠ” ì €ì¥í•˜ì§€ ì•ŠìŒ (ë§í¬ ì—†ì´ëŠ” ë³µí˜¸í™” ë¶ˆê°€)

---

## UI ì„¤ê³„

### 1. ê³µìœ  ì‹œì‘ ë²„íŠ¼ ìœ„ì¹˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ResultView / RecordsDetailView    â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ì´ë¯¸ì§€    â”‚  â”‚ Wander   â”‚       â”‚
â”‚  â”‚ ê³µìœ      â”‚  â”‚ ê³µìœ      â”‚  â† ì‹ ê·œâ”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ê³µìœ  ì˜µì…˜ ì‹œíŠ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Wander ê³µìœ                X â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  ğŸ“· ì‚¬ì§„ í’ˆì§ˆ                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â—‹ ì›ë³¸        â—‹ ìµœì í™” (ì¶”ì²œ) â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  â±ï¸ ë§í¬ ë§Œë£Œ                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1ì¼ â”‚ 7ì¼ â”‚ 30ì¼ â”‚ ì˜êµ¬     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        ë§í¬ ìƒì„±              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ê³µìœ  ë§í¬ ìƒì„± ì™„ë£Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ê³µìœ  ì¤€ë¹„ ì™„ë£Œ             X â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚           âœ…                       â”‚
â”‚     ë§í¬ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤           â”‚
â”‚                                    â”‚
â”‚  ë§Œë£Œ: 2026ë…„ 2ì›” 12ì¼             â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë³´ë‚´ê¸°       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        ë©”ì‹œì§€ë¡œ ë³´ë‚´ê¸°         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        ë§í¬ ë³µì‚¬              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ê³µìœ  ìˆ˜ì‹  ë¯¸ë¦¬ë³´ê¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ê³µìœ ë°›ì€ ê¸°ë¡              X â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [ì¸ë„¤ì¼ ì´ë¯¸ì§€]              â”‚  â”‚
â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚  ì œì£¼ë„ 3ë°• 4ì¼               â”‚  â”‚
â”‚  â”‚  2026.01.15 - 2026.01.18     â”‚  â”‚
â”‚  â”‚  ğŸ“ 8ê³³ ë°©ë¬¸ â€¢ ğŸš— 156km      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  ê³µìœ ì: í™ê¸¸ë™                     â”‚
â”‚  ë§Œë£Œ: 2026ë…„ 2ì›” 12ì¼             â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ë‚´ ê¸°ë¡ì— ì €ì¥            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ê¸°ë¡ ëª©ë¡ - ê³µìœ  í‘œì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê¸°ë¡                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ì¸ë„¤ì¼]  ì œì£¼ë„ 3ë°• 4ì¼       â”‚  â”‚
â”‚  â”‚ ğŸ”— ê³µìœ ë¨  2026.01.15        â”‚ â† ê³µìœ  ë°°ì§€
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ì¸ë„¤ì¼]  ì„œìš¸ ë‹¹ì¼ì¹˜ê¸°        â”‚  â”‚
â”‚  â”‚           2026.01.10         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë°ì´í„° ëª¨ë¸ í™•ì¥

### TravelRecord í™•ì¥

```swift
@Model class TravelRecord {
    // ê¸°ì¡´ í•„ë“œë“¤...

    // ê³µìœ  ê´€ë ¨ í•„ë“œ (ì‹ ê·œ)
    var isShared: Bool = false           // ê³µìœ ë°›ì€ ê¸°ë¡ ì—¬ë¶€
    var sharedFrom: String?              // ê³µìœ ì ì´ë¦„ (ì„ íƒì )
    var sharedAt: Date?                  // ê³µìœ ë°›ì€ ì‹œê°„
    var originalShareID: UUID?           // ì›ë³¸ ê³µìœ  ID (ì¤‘ë³µ ì €ì¥ ë°©ì§€)
}
```

### CloudKit RecordType

```swift
// CKRecord type: "WanderShare"
struct WanderShareRecord {
    static let recordType = "WanderShare"

    // í•„ë“œ
    static let shareID = "shareID"              // String (UUID)
    static let encryptedData = "encryptedData"  // Data
    static let photos = "photos"                // [CKAsset]
    static let expiresAt = "expiresAt"          // Date
    static let createdAt = "createdAt"          // Date
    static let photoCount = "photoCount"        // Int (ê²€ìƒ‰/í•„í„°ìš©)
}
```

---

## Universal Link ì„¤ì •

### Apple App Site Association (AASA)

í˜¸ìŠ¤íŒ… ìœ„ì¹˜: `https://wander.zerolive.com/.well-known/apple-app-site-association`

```json
{
    "applinks": {
        "apps": [],
        "details": [
            {
                "appID": "XU8HS9JUTS.com.zerolive.wander",
                "paths": ["/share/*"]
            }
        ]
    }
}
```

### Info.plist ì„¤ì •

```xml
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>wander</string>
        </array>
    </dict>
</array>

<key>LSApplicationQueriesSchemes</key>
<array>
    <string>wander</string>
</array>
```

### Associated Domains

Xcode > Signing & Capabilities > Associated Domains:
```
applinks:wander.zerolive.com
```

---

## ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ ìƒí™© | ì‚¬ìš©ì ë©”ì‹œì§€ | ì²˜ë¦¬ |
|----------|-------------|------|
| ë§í¬ ë§Œë£Œ | "ì´ ê³µìœ  ë§í¬ëŠ” ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤" | ê³µìœ ìì—ê²Œ ìƒˆ ë§í¬ ìš”ì²­ ì•ˆë‚´ |
| ë³µí˜¸í™” ì‹¤íŒ¨ | "ë§í¬ê°€ ì†ìƒë˜ì—ˆìŠµë‹ˆë‹¤" | ì¬ì‹œë„ ë˜ëŠ” ê³µìœ ìì—ê²Œ ë¬¸ì˜ |
| ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ | "ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”" | ì¬ì‹œë„ ë²„íŠ¼ |
| ì €ì¥ ê³µê°„ ë¶€ì¡± | "ì €ì¥ ê³µê°„ì´ ë¶€ì¡±í•©ë‹ˆë‹¤" | ê³µê°„ í™•ë³´ ì•ˆë‚´ |
| ì¤‘ë³µ ì €ì¥ | "ì´ë¯¸ ì €ì¥ëœ ê¸°ë¡ì…ë‹ˆë‹¤" | ê¸°ì¡´ ê¸°ë¡ìœ¼ë¡œ ì´ë™ |

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **ë°ì´í„° ì•”í˜¸í™”**: AES-256-GCMìœ¼ë¡œ ì „ì²´ íŒ¨í‚¤ì§€ ì•”í˜¸í™”
2. **í‚¤ ë¶„ë¦¬**: ì•”í˜¸í™” í‚¤ëŠ” CloudKitì— ì €ì¥í•˜ì§€ ì•ŠìŒ
3. **ë§Œë£Œ ì •ì±…**: ì„¤ì •ëœ ê¸°ê°„ í›„ ìë™ ì‚­ì œ
4. **ì ‘ê·¼ ì œí•œ**: ë§í¬(shareID + key) ì—†ì´ëŠ” ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€
5. **ê°œì¸ì •ë³´**: ê³µìœ ì ì´ë¦„ì€ ì„ íƒì ìœ¼ë¡œ í¬í•¨

---

*ì‘ì„±ì¼: 2026-02-05*
*ë²„ì „: 1.0*
