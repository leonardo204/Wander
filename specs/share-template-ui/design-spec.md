# SNS 공유 템플릿 UI/UX 디자인 스펙

> 버전: 1.0
> 작성일: 2026-02-05
> 적용 대상: 기록 → 공유하기 → 일반 공유

---

## 1. 이미지 규격

### 1.1 출력 사이즈

| 공유 대상 | 너비 (px) | 높이 (px) | 비율 | 용도 |
|----------|----------|----------|------|------|
| 일반 공유 | 810 | 1012 | 4:5 | 시스템 공유 시트 |
| Instagram Feed | 1080 | 1350 | 4:5 | 피드 게시물 |
| Instagram Story | 1080 | 1920 | 9:16 | 스토리 |

### 1.2 해상도 및 스케일

- **기본 스케일**: @2x (Retina 대응)
- **렌더링 품질**: `UIGraphicsImageRenderer` 사용, 고해상도 출력
- **이미지 압축**: PNG (무손실) 또는 JPEG (품질 0.9)

---

## 2. 템플릿 공통 규칙

### 2.1 타이포그래피 시스템

| 요소 | 폰트 사이즈 | Weight | 색상 | 비고 |
|------|-----------|--------|------|------|
| 제목 | 42pt | Bold | #1A2B33 | 최대 1줄, 말줄임 처리 |
| 통계+날짜 | 30pt | Medium | #1A2B33 (85% opacity) | 한 줄로 통합 |
| 캡션/키워드 | 28pt | Regular | #1A2B33 (90% opacity) | 최대 1줄 |
| 해시태그 | 24pt | Medium | #87CEEB (Primary) | 최대 3개 |
| 워터마크 | 22pt | Bold | #87CEEB | 앱 아이콘(36pt) + "Wander" |

### 2.2 색상 팔레트

```
Primary:        #87CEEB (Sky Blue)
Primary Pale:   #E8F6FC
Text Primary:   #1A2B33
Text Secondary: #5A6B73
Text Tertiary:  #7F8C8D
Background:     #FFFFFF
Glass Overlay:  rgba(255,255,255,0.85)
```

### 2.3 여백 및 간격

| 영역 | 값 | 설명 |
|------|-----|------|
| 패널 마진 | 30pt | 글래스 패널 외부 여백 |
| 패널 패딩 | 28pt | 패널 내부 여백 |
| 줄 간격 | 12-16pt | 요소 간 세로 간격 |
| 워터마크 마진 | 16pt | 하단/우측 여백 |

---

## 3. 컨텐츠 구성 (개정)

### 3.1 정보 계층 구조 (기존 → 개선)

**기존 구조** (날짜 중복):
```
┌─────────────────────────────────┐
│  [제목]                         │
│  [날짜 범위]          ← 중복!   │
│  📍 5곳 · 🚗 32km              │
│  [캡션]                         │
│  [해시태그]                     │
└─────────────────────────────────┘
```

**개선 구조** (날짜 통합):
```
┌─────────────────────────────────┐
│  [제목]                         │
│  📍 5곳 · 🚗 32km · 2.1~2.3    │  ← 통합
│  ────────────────────           │
│  [감성 키워드]                  │
│  [해시태그]                     │
│                    [워터마크]   │
└─────────────────────────────────┘
```

### 3.2 통계+날짜 통합 포맷

```
📍 {장소수}곳 · 🚗 {거리}km · {시작월}.{시작일}~{종료일}
```

**예시:**
- 같은 날: `📍 5곳 · 🚗 32km · 2.5`
- 다른 날 같은 달: `📍 8곳 · 🚗 127km · 2.1~2.3`
- 다른 달: `📍 12곳 · 🚗 245km · 1.28~2.2`

### 3.3 감성 키워드 (Impression)

SNS 공유에 적합한 강한 명사/형용사 조합으로 여행의 분위기를 전달.

**포맷:**
```
{키워드1} · {키워드2} · {키워드3}
```

**예시:**
- `로맨틱 · 힐링 · 도심탈출`
- `바다 · 자유 · 리프레시`
- `감성카페 · 맛집투어 · 일상탈출`

**생성 규칙** (활동/장소 기반):
| 활동 유형 | 추천 키워드 |
|----------|------------|
| 바다/해변 | 바다, 파도, 서핑, 일몰, 리프레시 |
| 산/자연 | 힐링, 트레킹, 자연, 숲속, 청량함 |
| 카페 | 감성카페, 여유, 브런치, 힙스터 |
| 맛집 | 맛집투어, 미식, 로컬푸드, 먹방 |
| 도심 | 도심탈출, 시티투어, 야경, 쇼핑 |
| 커플 | 로맨틱, 데이트, 추억, 둘만의시간 |

---

## 4. 템플릿별 상세 스펙

### 4.1 Modern Glass

**레이아웃:**
```
┌─────────────────────────────────┐
│                                 │
│         [사진 배경]             │
│         (Aspect Fill)           │
│                                 │
│  ┌───────────────────────────┐  │
│  │ [제목]                    │  │
│  │ 📍 5곳 · 🚗 32km · 2.1~3 │  │
│  │ ─────────────────────     │  │
│  │ 로맨틱 · 힐링 · 도심탈출  │  │
│  │ #제주여행 #힐링 #겨울바다 │  │
│  │              [워터마크]   │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

**글래스 패널:**
- 높이: 340pt (기존 440pt → 축소, 날짜 줄 제거로 공간 절약)
- 모서리: 24pt radius
- 배경: `rgba(255,255,255,0.85)` + blur
- 그림자: `0 5pt 14pt rgba(0,0,0,0.12)`

**상단 그라데이션:**
- 높이: 100pt
- 방향: 위→아래
- 색상: `rgba(0,0,0,0.3)` → `transparent`

### 4.2 Polaroid Grid

**레이아웃:**
```
┌─────────────────────────────────┐
│     [배경: #FAF8F5]             │
│                                 │
│   ┌──────┐ ┌──────┐ ┌──────┐   │
│   │ 사진 │ │ 사진 │ │ 사진 │   │
│   │      │ │      │ │      │   │
│   └──────┘ └──────┘ └──────┘   │
│     -3°      +2°      -1°      │
│                                 │
│         [제목]                  │
│   📍 5곳 · 🚗 32km · 2.1~3     │
│   로맨틱 · 힐링 · 도심탈출      │
│   #제주여행 #힐링               │
│                    [워터마크]   │
└─────────────────────────────────┘
```

**폴라로이드 카드:**
- 크기: 장수에 따라 동적 조정
  - 1장: 480×560pt
  - 2장: 400×470pt
  - 3장: 280×340pt
- 회전: [-5°, +4°, -2°]
- 프레임: 흰색, 그림자 `0 6pt 15pt rgba(0,0,0,0.2)`
- 하단 여백: 45pt (폴라로이드 스타일)

### 4.3 Clean Minimal

**레이아웃:**
```
┌─────────────────────────────────┐
│     [배경: #FFFFFF]             │
│                                 │
│   ┌─────────────────────────┐   │
│   │        [사진]           │   │
│   │     (Aspect Fit)        │   │
│   └─────────────────────────┘   │
│                                 │
│         [제목]                  │
│   📍 5곳 · 🚗 32km · 2.1~3     │
│   로맨틱 · 힐링 · 도심탈출      │
│   #제주여행 #힐링 #겨울바다     │
│         [워터마크]              │
└─────────────────────────────────┘
```

**사진 영역:**
- 상단 마진: 50pt
- 좌우 마진: 36pt
- 모서리: 16pt radius
- 렌더링: Aspect Fit (비율 유지, 크롭 없음)

---

## 5. 텍스트 오버플로우 처리

### 5.1 제목 (Title)

| 조건 | 처리 방식 |
|------|----------|
| 15자 이하 | 그대로 표시 |
| 15자 초과 | 말줄임 처리 (`...`) |
| 20자 초과 | 폰트 크기 36pt로 축소 후 말줄임 |

### 5.2 감성 키워드 (Impression)

- **최대 3개** 키워드만 표시
- 각 키워드 최대 6자
- 전체 너비 초과 시 마지막 키워드 생략

### 5.3 해시태그 (Hashtags)

- **최대 3개** 표시
- 너비 초과 시 마지막 태그 생략
- 각 태그 앞 `#` 자동 추가

---

## 6. 감성 키워드 생성 알고리즘

### 6.1 입력 데이터

```swift
struct ImpressionInput {
    let activities: [String]     // 활동 라벨 (카페, 맛집, 관광 등)
    let locations: [String]      // 장소 주소 (제주, 부산, 강원도 등)
    let photoCount: Int          // 사진 수
    let duration: Int            // 여행 일수
    let season: Season           // 계절
}
```

### 6.2 키워드 풀 (Pool)

```swift
enum ImpressionCategory: String, CaseIterable {
    case mood       // 분위기: 로맨틱, 힐링, 여유, 설렘
    case activity   // 활동: 맛집투어, 카페투어, 드라이브
    case nature     // 자연: 바다, 산, 숲, 일몰
    case emotion    // 감정: 리프레시, 충전, 행복, 추억
    case style      // 스타일: 감성, 힙스터, 빈티지, 레트로
}
```

### 6.3 선택 로직

1. **지역 분석**: 주소에서 주요 지역 추출 → 관련 키워드 우선 선택
2. **활동 분석**: 가장 많은 활동 유형 → 활동 관련 키워드
3. **시즌 보정**: 계절에 맞는 키워드 가중치 증가
4. **다양성 보장**: 3개 키워드가 서로 다른 카테고리에서 선택

**예시 코드:**
```swift
func generateImpression(from input: ImpressionInput) -> [String] {
    var keywords: [String] = []

    // 1. 지역 기반 (1개)
    if let regionKeyword = selectRegionKeyword(from: input.locations) {
        keywords.append(regionKeyword)
    }

    // 2. 활동 기반 (1개)
    if let activityKeyword = selectActivityKeyword(from: input.activities) {
        keywords.append(activityKeyword)
    }

    // 3. 분위기/감정 (1개)
    keywords.append(selectMoodKeyword(season: input.season))

    return Array(keywords.prefix(3))
}
```

---

## 7. 엣지 케이스 처리

### 7.1 텍스트 관련

| 케이스 | 처리 |
|--------|------|
| 제목 없음 | "나의 여행 기록" 기본값 |
| 장소 0개 | 통계 영역 숨김 |
| 거리 0km | "이동거리 없음" 또는 생략 |
| 키워드 생성 불가 | "소중한 추억" 기본값 |

### 7.2 이미지 관련

| 케이스 | 처리 |
|--------|------|
| 사진 없음 | 공유 버튼 비활성화 |
| 사진 1장 | 단일 사진 레이아웃 |
| 사진 로드 실패 | 플레이스홀더 이미지 |
| 극단적 비율 사진 | Aspect Fill + 중앙 크롭 |

### 7.3 컨테이너 경계 검증

```swift
// 텍스트가 컨테이너를 벗어나지 않도록 검증
func validateTextBounds(text: String, maxWidth: CGFloat, font: UIFont) -> String {
    let textWidth = text.size(withAttributes: [.font: font]).width
    if textWidth > maxWidth {
        return truncateText(text, to: maxWidth, font: font)
    }
    return text
}
```

---

## 8. UI/UX 검수 체크리스트

### 8.1 레이아웃 검증

- [ ] 모든 텍스트가 패널 경계 내에 있는가?
- [ ] 여백이 일관되게 적용되었는가?
- [ ] 정렬(좌측/중앙)이 템플릿별로 올바른가?
- [ ] 줄 간격이 가독성을 해치지 않는가?

### 8.2 타이포그래피 검증

- [ ] 폰트 크기가 SNS에서 읽기 좋은가? (최소 24pt)
- [ ] 색상 대비가 WCAG 2.1 AA 기준 충족?
- [ ] 말줄임 처리가 자연스러운가?
- [ ] 한글/영문 혼용 시 깨지지 않는가?

### 8.3 이미지 검증

- [ ] 해상도가 SNS 업로드 기준 충족?
- [ ] Aspect Fill/Fit 적용이 올바른가?
- [ ] 모서리 라운딩이 일관적인가?
- [ ] 그림자/글래스 효과가 자연스러운가?

### 8.4 컨텐츠 검증

- [ ] 감성 키워드가 AI스럽지 않고 자연스러운가?
- [ ] 해시태그가 적절한가?
- [ ] 워터마크가 눈에 띄지만 방해하지 않는가?
- [ ] 날짜/통계 정보가 정확한가?

### 8.5 엣지 케이스 검증

- [ ] 빈 데이터 처리가 되어 있는가?
- [ ] 긴 텍스트 처리가 자연스러운가?
- [ ] 다양한 사진 비율에서 테스트했는가?
- [ ] 1일/다일 여행 모두 테스트했는가?

---

## 9. 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2026-02-05 | 초안 작성, 날짜 중복 해결, 감성 키워드 추가 |
