# Wander - 기능 개선 및 신규 기능 목록 (todo.md)

> UI Scenario 변경, 정책 결정, 또는 기획이 필요한 항목

---

## 📱 UX/UI 개선

### 1. 홈 화면 레이아웃 재설계
- **현재 문제점**:
  - "새 여행 기록하기", "지금 뭐해", "이번 주" 영역이 너무 큼
  - 홈 화면 공간 활용이 비효율적
- **개선 방향**:
  - 최근 기록 영역과의 균형 있는 배치
  - 퀵 액션 버튼 크기 축소 또는 레이아웃 변경
- **결정 필요 사항**:
  - [ ] "이번 주" 명칭 변경 검토
    - 옵션: "이번 달", "최근", "하이라이트", "모아보기" 등
    - 또는 기간 선택 가능하게? (이번 주 / 이번 달 / 상반기)
  - [ ] 퀵 액션 버튼 배치 방식 (가로 스크롤? 그리드? 축소?)
- **UI Scenario 수정 필요**: SCR-005, SCR-005B

### 2. 탭 네비게이션 개선
#### 2-1. 탭 간 스와이프 이동
- **요청**: 탭 이동 시 스와이프 제스처로 이동 가능하도록
- **기술 검토**: TabView에 `.tabViewStyle(.page)` 적용 또는 커스텀 구현
- **주의사항**: 내부 스크롤뷰와 제스처 충돌 가능성

#### 2-2. 탭 진입 시 홈 화면으로 이동
- **요청**: 탭 클릭 시 해당 탭의 루트 화면으로 이동 (세부 메뉴 무시)
- **현재**: NavigationStack 상태 유지됨
- **수정 방향**: 탭 선택 시 NavigationPath 초기화

---

## 📤 공유/내보내기 기능 개편

### 3. 내보내기 기능 개편
- **요청사항**:
  - 전체 기록을 하나의 이미지로 생성
  - 출처 워터마크 삽입 (예: "Made with Wander")
- **결정 필요 사항**:
  - [ ] 이미지 형식 (PNG? JPG?)
  - [ ] 이미지 크기/해상도
  - [ ] 워터마크 위치 및 디자인
  - [ ] 이미지 외 다른 형식도 지원? (PDF?)
- **기술 검토**: UIGraphicsImageRenderer로 View를 이미지로 렌더링

### 4. 공유 기능 개편
- **요청사항**:
  - 공유 시 Wander 앱 설치/실행 유도
- **구현 방안**:
  - 딥링크/유니버셜 링크 구현
  - 공유 콘텐츠에 앱스토어 링크 포함
  - 커스텀 URL Scheme (wander://)
- **결정 필요 사항**:
  - [ ] 앱스토어 출시 여부 및 링크
  - [ ] 딥링크 URL 구조 설계

### 5. 공유받은 항목 보기 기능
- **요청사항**:
  - 다른 사용자가 공유해준 여행 기록을 앱에서 볼 수 있는 기능
- **구현 방안**:
  - 딥링크로 공유 데이터 수신
  - 임시 뷰어 화면 또는 "공유받은 기록" 섹션
- **결정 필요 사항**:
  - [ ] 공유 데이터 포맷 (JSON? 커스텀?)
  - [ ] 공유받은 기록 저장 여부
  - [ ] 별도 탭/섹션 필요 여부

---

## 🔒 보안/프라이버시

### 6. 기록 숨기기 기능
- **요청사항**:
  - 특정 기록을 숨기기 가능
  - 암호 또는 Face ID/Touch ID로 보호
- **구현 방안**:
  - TravelRecord에 `isHidden` 필드 추가
  - LocalAuthentication 프레임워크 사용
  - 설정에서 암호/생체인증 활성화 옵션
- **결정 필요 사항**:
  - [ ] 숨긴 기록 접근 방식 (별도 섹션? 설정에서?)
  - [ ] 암호 vs 생체인증 vs 둘 다
  - [ ] 앱 전체 잠금 기능도 필요?
- **UI Scenario 추가 필요**: 숨긴 기록 섹션, 인증 화면

---

## 🤖 AI 기능 확장

### 7. BYOK 기능 동작 검증
- **현재 상태**: OpenAI, Anthropic, Google AI 구현됨
- **검증 필요 항목**:
  - [ ] API Key 저장/불러오기 정상 동작
  - [ ] 각 프로바이더별 API 호출 테스트
  - [ ] 에러 핸들링 (잘못된 키, 네트워크 오류 등)
  - [ ] 스토리 생성 품질 확인

### 8. Azure OpenAI 지원 추가
- **요청사항**: Azure OpenAI Service 지원
- **구현 방안**:
  - `AzureOpenAIService.swift` 신규 생성
  - AIServiceProtocol 구현
  - 엔드포인트, 배포 이름 등 추가 설정 필요
- **결정 필요 사항**:
  - [ ] Azure 전용 설정 UI 필요 (endpoint, deployment name 등)
  - [ ] API 버전 지원 범위

### 9. 분석 알고리즘 고도화
- **요청사항**: 분석 기능을 더 AI/Smart하게 업그레이드
- **현재 분석 방식**:
  - GPS 클러스터링 (거리/시간 기반)
  - 규칙 기반 활동 추론
  - Reverse Geocoding
- **개선 방안**:
  - [ ] 시간대별 활동 패턴 학습
  - [ ] 장소 유형 더 정교하게 추론
  - [ ] 이동 수단 추론 (속도 기반)
  - [ ] 사용자 행동 패턴 학습
  - [ ] AI API를 활용한 장소/활동 추론?
- **기획 필요**: 어떤 수준까지 "스마트"하게 할 것인지

---

## ⚙️ 설정 및 사용자화

### 10. 기록 카테고리 사용자 정의
- **현재**: travel, daily, weekly, business(추가예정) 고정
- **요청사항**: 사용자가 직접 카테고리 추가/관리 가능
- **구현 방안**:
  - 별도 SwiftData 모델로 카테고리 관리
  - 설정에서 카테고리 CRUD 화면
  - 기록 생성/편집 시 커스텀 카테고리 선택
- **결정 필요 사항**:
  - [ ] 기본 카테고리 삭제 가능 여부
  - [ ] 카테고리별 아이콘/색상 지정 가능?

### 11. 사용자 기본정보 설정
- **요청사항**:
  - 설정 탭에 "사용자 설정" 그룹 추가
  - 집, 회사, 학교 등 주요 장소 입력
  - 분석 시 해당 정보 활용 (예: "회사 도착", "귀가")
- **구현 방안**:
  - UserDefaults 또는 SwiftData로 저장
  - 지도에서 위치 선택 또는 주소 검색
  - 분석 시 해당 좌표 근처면 라벨링
- **결정 필요 사항**:
  - [ ] 저장할 장소 종류 (집, 회사, 학교, 기타?)
  - [ ] 선택 사항임을 명시 (없어도 분석 가능)
- **UI Scenario 추가 필요**: 사용자 설정 화면

---

## 📋 우선순위 정리

### Phase 1 (단기)
1. 홈 화면 레이아웃 재설계
2. 탭 네비게이션 개선
3. BYOK 기능 동작 검증

### Phase 2 (중기)
4. 기록 숨기기 기능
5. 기록 카테고리 사용자 정의
6. 내보내기 기능 개편

### Phase 3 (장기)
7. 공유 기능 개편 + 공유받은 항목 보기
8. Azure OpenAI 지원
9. 사용자 기본정보 설정
10. 분석 알고리즘 고도화

---

## 체크리스트

- [ ] 홈 화면 레이아웃 재설계
- [ ] 탭 간 스와이프 이동
- [ ] 탭 진입 시 홈 화면으로 이동
- [ ] 내보내기 기능 개편 (이미지 + 워터마크)
- [ ] 공유 시 앱 실행 유도
- [ ] 공유받은 항목 보기 기능
- [ ] 기록 숨기기 기능 (암호/생체인증)
- [ ] BYOK 기능 동작 검증
- [ ] Azure OpenAI 지원
- [ ] 기록 카테고리 사용자 정의
- [ ] 사용자 기본정보 설정
- [ ] 분석 알고리즘 고도화

---

*최종 업데이트: 2026-02-01*
